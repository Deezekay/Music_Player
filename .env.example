# ===========================================
# MERN Music Player - Environment Variables
# ===========================================
# Copy this file to .env and fill in your values

# ------------------------------------
# Server Configuration
# ------------------------------------
NODE_ENV=development
PORT=3001
FRONTEND_URL=http://localhost:5173

# ------------------------------------
# MongoDB
# ------------------------------------
# Local development
MONGO_URI=mongodb://localhost:27017/musicplayer
# Production (MongoDB Atlas)
# MONGO_URI=mongodb+srv://<user>:<password>@cluster.mongodb.net/musicplayer?retryWrites=true&w=majority

# ------------------------------------
# Redis (for BullMQ queue)
# ------------------------------------
REDIS_URL=redis://localhost:6379

# ------------------------------------
# JWT Authentication
# ------------------------------------
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_REFRESH_SECRET=your-refresh-token-secret-change-in-production
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=30d

# ------------------------------------
# AWS S3 / MinIO Storage
# ------------------------------------
# For MinIO local development:
S3_ENDPOINT=http://localhost:9000
S3_BUCKET=music-player
S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minioadmin123
S3_USE_PATH_STYLE=true

# For AWS S3 production:
# S3_ENDPOINT=
# S3_BUCKET=your-production-bucket
# S3_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# S3_USE_PATH_STYLE=false

# ------------------------------------
# CDN (optional, for production)
# ------------------------------------
# CDN_DOMAIN=https://your-cloudfront-domain.cloudfront.net
# CDN_KEY_PAIR_ID=your-cloudfront-key-pair-id
# CDN_PRIVATE_KEY_PATH=./cloudfront-private-key.pem

# ------------------------------------
# Google OAuth
# ------------------------------------
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:3001/api/auth/oauth/google/callback

# ------------------------------------
# Presigned URL Settings
# ------------------------------------
PRESIGNED_UPLOAD_EXPIRY=900
PRESIGNED_DOWNLOAD_EXPIRY=300

# ------------------------------------
# FFmpeg Worker
# ------------------------------------
WORKER_CONCURRENCY=2

# ------------------------------------
# Rate Limiting
# ------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ------------------------------------
# Optional Services
# ------------------------------------
# SENTRY_DSN=
# STRIPE_SECRET_KEY=
# STRIPE_WEBHOOK_SECRET=
